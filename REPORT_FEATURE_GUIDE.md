# 运动报表功能使用指南

## 功能概述

运动报表功能允许用户按月和按年查看运动记录的统计信息，包括运动次数、运动时长、运动率等详细数据。

## 功能特性

### 📊 报表类型
- **月度报表**: 查看指定月份的运动统计
- **年度报表**: 查看指定年份的运动统计

### 📈 统计指标
- **运动天数**: 实际运动的天数 / 总记录天数
- **运动率**: 运动天数占总记录天数的百分比
- **运动时长**: 总运动时长和平均每次运动时长
- **连续运动**: 最长连续运动天数和当前连续运动天数

### 🎯 详细数据
- 记录天数统计
- 运动天数 vs 未运动天数
- 总运动时长和平均时长
- 运动率百分比
- 连续运动天数分析

## 使用方法

### 1. 打开报表功能
在主界面点击 **"📊 查看报表"** 按钮

### 2. 选择报表类型
- 选择 **"月度报表"** 或 **"年度报表"**
- 月度报表会显示月份选择器
- 年度报表会隐藏月份选择器

### 3. 选择时间范围
- **年份**: 从下拉列表中选择要查看的年份
- **月份**: (仅月度报表) 选择要查看的月份

### 4. 生成报表
点击 **"生成报表"** 按钮查看统计结果

## 报表内容

### 统计卡片
1. **运动天数卡片** (绿色)
   - 显示运动天数/总天数
   - 显示运动率百分比

2. **运动时长卡片** (浅绿色)
   - 显示总运动时长
   - 显示平均每次运动时长

3. **连续运动卡片** (深绿色)
   - 显示最长连续运动天数
   - 显示当前连续运动天数

### 详细统计
- 记录天数、运动天数、未运动天数
- 总运动时长、平均运动时长
- 运动率百分比
- 最长连续运动天数、当前连续运动天数

## 技术实现

### 核心组件
- `ReportActivity`: 报表界面Activity
- `ExerciseReportGenerator`: 报表数据生成器
- `ExerciseReport`: 报表数据模型

### 数据计算
- **运动率**: (运动天数 / 总记录天数) × 100%
- **平均时长**: 总运动时长 / 运动天数
- **连续天数**: 基于日期排序的连续运动天数计算

### UI设计
- 使用卡片式设计展示关键指标
- 颜色编码区分不同类型的统计数据
- 响应式布局适配不同屏幕尺寸

## 数据来源

报表功能基于用户在日历中记录的运动数据：
- 运动日期和时长
- 运动状态（是否运动）
- 历史记录数据

## 注意事项

1. **数据依赖**: 报表功能需要有运动记录数据才能生成有意义的统计
2. **时间范围**: 只显示有记录数据的年份和月份
3. **实时更新**: 报表数据会根据最新的运动记录实时计算
4. **数据完整性**: 确保运动记录的日期格式正确以获得准确的统计结果

## 未来扩展

可能的功能扩展方向：
- 图表可视化 (柱状图、折线图)
- 导出报表功能 (PDF、Excel)
- 运动目标设定和达成率
- 多维度数据分析 (按运动类型、时长区间等)
- 历史趋势分析